<div class="same-width-box">
  <div class="progress-wrapper">
    <mat-progress-bar
      mode="determinate"
      [value]="progressValue"
      color="primary"
      class="progress-bar"
    ></mat-progress-bar>

    <div class="steps-container">
      <div
        *ngFor="let step of steps; let i = index"
        class="step-circle"
        [class.active]="i <= currentStep"
        [style.left.%]="(i / (steps.length - 1)) * 100"
      >
        {{ i + 1 }}
      </div>
    </div>

    <div class="step-labels">
      <ng-container *ngFor="let step of steps; let i = index">
        <div
          *ngIf="i < steps.length - 1"
          class="step-label"
          [style.left.%]="((i + 0.5) / (steps.length - 1)) * 100"
        >
          {{ step.label }}
        </div>
      </ng-container>
    </div>
  </div>
</div>

<div class="form-container">
  <h2>Add Qualification</h2>
  <form [formGroup]="qualificationForm" (ngSubmit)="onSubmit()">

    <!-- College Dropdown -->
    <mat-form-field appearance="fill">
      <mat-label>College Name</mat-label>
      <mat-select formControlName="collegeName" required>
        <mat-option *ngFor="let college of colleges" [value]="college.collegeName">
          {{ college.collegeName }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Qualification Dropdown -->
    <mat-form-field appearance="fill">
      <mat-label>Qualification</mat-label>
      <mat-select formControlName="qualificationName" required>
        <mat-option *ngFor="let q of qualifications" [value]="q.qualificationName">
          {{ q.qualificationName }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Pass Out Year -->
  <mat-form-field appearance="fill">
  <mat-label>Pass Out Year</mat-label>
  <input matInput formControlName="passOutYear" type="text" required>
  
  <!-- Use bracket notation -->
  <mat-error *ngIf="passOutYearErrors?.['invalidYear']">
    Enter a valid year.
  </mat-error>
  <mat-error *ngIf="passOutYearErrors?.['tooYoung']">
    Student must be at least 16 years old at pass-out.
  </mat-error>
</mat-form-field>


    <div class="button-container">
      <button mat-raised-button color="primary" type="submit" [disabled]="!qualificationForm.valid">
        Save & Next
      </button>
    </div>
  </form>
</div>
